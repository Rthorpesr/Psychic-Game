<!DOCTYPE html>
<html lang="en">
    <head> 
        <meta charset="utf-8">
        <title>PSYCHIC GAME</title>
        <meta charset="utf-8">
        <!---The meta tag below ensures proper rendering and touch zooming
              the width=device stuff sets the width of the page to follow 
              the screen-width of the device (which will vary depending on 
              the device).  The initial-scale=1 part sets the initial zoom
              level when the page is first loaded by the browser  -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="./assets/css/reset.css" />
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <!-- jQuery library -->
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script> -->
        <!-- Popper JS -->
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script> -->
        <!-- Latest compiled JavaScript
             jQuery and Popper?Bootstrap 4 use jQuery and Popper.js for JavaScript components 
            (like modals, tooltips, popovers etc). 
             However, if you just use the CSS part of Bootstrap, you don't need the link below.-->
        <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script> -->

        <link rel="stylesheet" type="text/css" href="./assets/css/style.css">
<html>
    <body>
        <h1>The Psychic Game</h1>
        <h3>Guess what letter I'm thinking of</h3>


        <div>   <!--- The below "id's" are used to write text and count for the variables.  -->
            <p id="wins-text">Wins:  </p>
            <p id="losses-text">Losses:</p>    
            <p id="guessesleft">Guesses Left:</p>
            <p id="GuessesSoFar">Your Guesses so far:</p>
        </div>

        
        <script> 
            // THIS SECTION IS DECLARING ALL GLOBAL VARIABLES             
            var numbWins = 0;
            var numbLosses = 0;
            var NumbGuessesLeft = 9;   //THIS VARIABLE RESET AFTER 9 ATTEMPT WITHOUT A WIN, OR RIGHT AFTER A WIN  -->
            var GuessesSoFar = 0;     // need an array
           // Generates a random letter and store it as the "Computer's letter"
    
           // Show the start of the game with all counts initilized.
           document.getElementById("wins-text").innerHTML = "Wins: " + numbWins;
           document.getElementById("losses-text").innerHTML = "Losses: " + numbLosses;
           document.getElementById("guessesleft").innerHTML = "Guesses Left: " + NumbGuessesLeft;
           document.getElementById("GuessesSoFar").innerHTML = "Your Guesses so far: ";

            var computerLetter = "";
            var alphabet = "abcdefghijklmnopqrstuvwxyz";

            function getRandomLetter() {
                  return alphabet[Math.floor(Math.random() * alphabet.length)];
            }
            
            var randomLetter;

            while (computerLetter.length < 1) {
                    randomLetter = getRandomLetter();
                         computerLetter = randomLetter;
            } 
            console.log(computerLetter);
          
          // When user presses and releases a key, this function places the key pushed into "players_guess
            
            document.onkeyup = function(event) {
                var players_guess = event.key;
                console.log(players_guess);   //used as a debugging tool. commented out for Production.
                       

                    if (players_guess === computerLetter) 
                       {
                         numbWins = numbWins + 1;                     
                         console.log("number of wins: " + numbWins); 
                       } 
                    else 
                       {
                         (players_guess !== computerLetter) 
                          numbLosses++;
                          console.log("number of losses: " + numbLosses);
                          console.log("number of guesses allowed in a round: " + NumbGuessesLeft);
                        }                     
                    
                    if (GuessesSoFar === NumbGuessesLeft)  
                       {
                         console.log("number of guesses " + NumbGuessesLeft);
                         console.log("no more guesses left: " + GuessesSoFar);
                       }
                    else
                        {
                          GuessesSoFar++;
                          console.log("number of GuessesSoFar: " + GuessesSoFar);   
                        }
                   if (GuessesSoFar === NumbGuessesLeft)
                      { 
                        console.log("number of wins: " + numbWins);  
                        console.log("number of losses: " + numbLosses); 
                        GuessesSoFar = NumbGuessesLeft; 
                        console.log("no more guesses left: " + GuessesSoFar);
                        document.getElementById("wins-text").innerHTML = "Wins: " + numbWins;
                        document.getElementById("losses-text").innerHTML = "Losses: " + numbLosses;
                        document.getElementById("guessesleft").innerHTML = "Guesses Left" + NumbGuessesLeft;
                        document.getElementById("GuessesSoFar").innerHTML = "GuessesSoFar"  ;

                        // GuessesSoFar = 0; 
                      }
              
            };

        </script>
    </body>
</html>